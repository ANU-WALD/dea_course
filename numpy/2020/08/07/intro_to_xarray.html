<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Introduction to XArray | DEA for Geospatial Analysts</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Introduction to XArray" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This tutorial introduces XArray, a Python library for working with labeled multidimensional arrays." />
<meta property="og:description" content="This tutorial introduces XArray, a Python library for working with labeled multidimensional arrays." />
<link rel="canonical" href="https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html" />
<meta property="og:url" content="https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html" />
<meta property="og:site_name" content="DEA for Geospatial Analysts" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-07T00:00:00-05:00" />
<script type="application/ld+json">
{"headline":"Introduction to XArray","description":"This tutorial introduces XArray, a Python library for working with labeled multidimensional arrays.","datePublished":"2020-08-07T00:00:00-05:00","dateModified":"2020-08-07T00:00:00-05:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html"},"url":"https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/dea_course/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://anu-wald.github.io/dea_course/feed.xml" title="DEA for Geospatial Analysts" /><link rel="shortcut icon" type="image/x-icon" href="/dea_course/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Introduction to XArray | DEA for Geospatial Analysts</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Introduction to XArray" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This tutorial introduces XArray, a Python library for working with labeled multidimensional arrays." />
<meta property="og:description" content="This tutorial introduces XArray, a Python library for working with labeled multidimensional arrays." />
<link rel="canonical" href="https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html" />
<meta property="og:url" content="https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html" />
<meta property="og:site_name" content="DEA for Geospatial Analysts" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-07T00:00:00-05:00" />
<script type="application/ld+json">
{"headline":"Introduction to XArray","description":"This tutorial introduces XArray, a Python library for working with labeled multidimensional arrays.","datePublished":"2020-08-07T00:00:00-05:00","dateModified":"2020-08-07T00:00:00-05:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html"},"url":"https://anu-wald.github.io/dea_course/numpy/2020/08/07/intro_to_xarray.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://anu-wald.github.io/dea_course/feed.xml" title="DEA for Geospatial Analysts" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/dea_course/">DEA for Geospatial Analysts</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/dea_course/about/">About Me</a><a class="page-link" href="/dea_course/search/">Search</a><a class="page-link" href="/dea_course/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Introduction to XArray</h1><p class="page-description">This tutorial introduces XArray, a Python library for working with labeled multidimensional arrays.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-08-07T00:00:00-05:00" itemprop="datePublished">
        Aug 7, 2020
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      3 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/dea_course/categories/#numpy">numpy</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/ANU-WALD/dea_course/tree/master/_notebooks/2020-08-07-intro_to_xarray.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/dea_course/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/ANU-WALD/dea_course/master?filepath=_notebooks%2F2020-08-07-intro_to_xarray.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/dea_course/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-08-07-intro_to_xarray.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="DEA-uses-XArray-as-its-data-model.-To-better-understand-what-it-is,-let-first-do-a-simple-experiment-using-a-combination-of-plain-numpy-arrays-and-Python-dictionaries.">DEA uses XArray as its data model. To better understand what it is, let first do a simple experiment using a combination of plain numpy arrays and Python dictionaries.<a class="anchor-link" href="#DEA-uses-XArray-as-its-data-model.-To-better-understand-what-it-is,-let-first-do-a-simple-experiment-using-a-combination-of-plain-numpy-arrays-and-Python-dictionaries."> </a></h4><h4 id="Suposse-we-have-a-satellite-image-with-three-bands:-Red,-NIR-and-SWIR.-These-bands-are-represented-as-2-dimensional-numpy-arrays-and-the-latitude-and-longitude-coordinates-for-each-dimension-are-represented-using-1-dimensional-arrays.-Finally,-we-also-have-some-metadata-that-comes-with-this-image.">Suposse we have a satellite image with three bands: Red, NIR and SWIR. These bands are represented as 2-dimensional numpy arrays and the latitude and longitude coordinates for each dimension are represented using 1-dimensional arrays. Finally, we also have some metadata that comes with this image.<a class="anchor-link" href="#Suposse-we-have-a-satellite-image-with-three-bands:-Red,-NIR-and-SWIR.-These-bands-are-represented-as-2-dimensional-numpy-arrays-and-the-latitude-and-longitude-coordinates-for-each-dimension-are-represented-using-1-dimensional-arrays.-Finally,-we-also-have-some-metadata-that-comes-with-this-image."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">red</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span>
<span class="n">nir</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span>
<span class="n">swir</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">250</span><span class="p">)</span>

<span class="n">lats</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mf">23.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">26.0</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">red</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">lons</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">110.0</span><span class="p">,</span> <span class="mf">112.5</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">red</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">endpoint</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Image of the desert&quot;</span>
<span class="n">date</span> <span class="o">=</span> <span class="s2">&quot;2019-11-10&quot;</span>

<span class="n">image</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;red&quot;</span><span class="p">:</span> <span class="n">red</span><span class="p">,</span>
         <span class="s2">&quot;nir&quot;</span><span class="p">:</span> <span class="n">nir</span><span class="p">,</span>
         <span class="s2">&quot;swir&quot;</span><span class="p">:</span> <span class="n">swir</span><span class="p">,</span>
         <span class="s2">&quot;latitude&quot;</span><span class="p">:</span> <span class="n">lats</span><span class="p">,</span>
         <span class="s2">&quot;longitude&quot;</span><span class="p">:</span> <span class="n">lons</span><span class="p">,</span>
         <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
         <span class="s2">&quot;date&quot;</span><span class="p">:</span> <span class="n">date</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="All-our-data-is-conveniently-packed-in-a-dictionary.-Now-we-can-use-this-dictionary-to-work-with-the-data-it-contains:">All our data is conveniently packed in a dictionary. Now we can use this dictionary to work with the data it contains:<a class="anchor-link" href="#All-our-data-is-conveniently-packed-in-a-dictionary.-Now-we-can-use-this-dictionary-to-work-with-the-data-it-contains:"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">image</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>
<span class="n">image</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Still,-to-select-data-we-have-to-use-numpy-indexes.-Wouldn't-it-be-convenient-to-be-able-to-select-data-from-the-images-using-the-coordinates-of-the-pixels-instead-of-their-relative-positions?">Still, to select data we have to use numpy indexes. Wouldn't it be convenient to be able to select data from the images using the coordinates of the pixels instead of their relative positions?<a class="anchor-link" href="#Still,-to-select-data-we-have-to-use-numpy-indexes.-Wouldn't-it-be-convenient-to-be-able-to-select-data-from-the-images-using-the-coordinates-of-the-pixels-instead-of-their-relative-positions?"> </a></h4><h4 id="This-is-exactly-what-XArray-solves!-Let's-see-how-it-works:">This is exactly what XArray solves! Let's see how it works:<a class="anchor-link" href="#This-is-exactly-what-XArray-solves!-Let's-see-how-it-works:"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="To-explore-XArray-we-have-a-file-containing-some-reflectance-data-of-Canberra-that-has-been-generated-using-the-DEA-library.">To explore XArray we have a file containing some reflectance data of Canberra that has been generated using the DEA library.<a class="anchor-link" href="#To-explore-XArray-we-have-a-file-containing-some-reflectance-data-of-Canberra-that-has-been-generated-using-the-DEA-library."> </a></h4><h4 id="The-object-that-we-get-ds-is-a-XArray-Dataset,-which-in-some-ways-is-very-similar-to-the-dictionary-that-we-created-before,-but-with-lots-of-convenient-functionality-available.">The object that we get <code>ds</code> is a XArray <code>Dataset</code>, which in some ways is very similar to the dictionary that we created before, but with lots of convenient functionality available.<a class="anchor-link" href="#The-object-that-we-get-ds-is-a-XArray-Dataset,-which-in-some-ways-is-very-similar-to-the-dictionary-that-we-created-before,-but-with-lots-of-convenient-functionality-available."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s1">&#39;data/canberra_ls8.nc&#39;</span><span class="p">)</span>

<span class="n">ds</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="This-figure,-from-the-documentation-page-is-quite-ilustrative:">This figure, from the documentation page is quite ilustrative:<a class="anchor-link" href="#This-figure,-from-the-documentation-page-is-quite-ilustrative:"> </a></h4><p><figure>
  
    <img class="docimage" src="/dea_course/images/copied_from_nb/data/dataset-diagram.png" alt="drawing" style="max-width: 600px" />
    
    
</figure>
</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="A-Dataset-can-be-seen-as-a-dictionary-structure-packing-up-the-data,-dimensions-and-attributes.">A <code>Dataset</code> can be seen as a dictionary structure packing up the data, dimensions and attributes.<a class="anchor-link" href="#A-Dataset-can-be-seen-as-a-dictionary-structure-packing-up-the-data,-dimensions-and-attributes."> </a></h4><h4 id="Variables-in-a-Dataset-object-are-called-DataArrays-and-they-share-dimensions-with-the-higher-level-Dataset">Variables in a <code>Dataset</code> object are called <code>DataArrays</code> and they share dimensions with the higher level <code>Dataset</code><a class="anchor-link" href="#Variables-in-a-Dataset-object-are-called-DataArrays-and-they-share-dimensions-with-the-higher-level-Dataset"> </a></h4><h4 id="To-access-a-variable-we-can-access-as-if-it-were-a-Python-dictionary,-or-using-the-.-notation,-which-is-more-convenient.">To access a variable we can access as if it were a Python dictionary, or using the <code>.</code> notation, which is more convenient.<a class="anchor-link" href="#To-access-a-variable-we-can-access-as-if-it-were-a-Python-dictionary,-or-using-the-.-notation,-which-is-more-convenient."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;green&quot;</span><span class="p">]</span>

<span class="c1">#or alternatively </span>

<span class="n">ds</span><span class="o">.</span><span class="n">green</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Dimensions-are-also-stored-as-numeric-arrays">Dimensions are also stored as numeric arrays<a class="anchor-link" href="#Dimensions-are-also-stored-as-numeric-arrays"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>

<span class="c1">#or alternatively </span>

<span class="n">ds</span><span class="o">.</span><span class="n">time</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Metadata-is-referred-as-Attributes-and-is-internally-stored-under-.attrs,-but-the-same-convenient-.-notation-applies-to-them.">Metadata is referred as Attributes and is internally stored under <code>.attrs</code>, but the same convenient <code>.</code> notation applies to them.<a class="anchor-link" href="#Metadata-is-referred-as-Attributes-and-is-internally-stored-under-.attrs,-but-the-same-convenient-.-notation-applies-to-them."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;Conventions&#39;</span><span class="p">]</span>

<span class="c1">#or alternatively </span>

<span class="n">ds</span><span class="o">.</span><span class="n">Conventions</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="DataArrays-store-their-data-internally-as-multidimensional-numpy-arrays.-But-these-arrays-contain-dimensions-or-labels-that-make-it-easier-handle-the-data.-To-access-the-underlaying-numpy-array-of-a-DataArray-we-can-use-the-.values-notation.">DataArrays store their data internally as multidimensional numpy arrays. But these arrays contain dimensions or labels that make it easier handle the data. To access the underlaying numpy array of a <code>DataArray</code> we can use the <code>.values</code> notation.<a class="anchor-link" href="#DataArrays-store-their-data-internally-as-multidimensional-numpy-arrays.-But-these-arrays-contain-dimensions-or-labels-that-make-it-easier-handle-the-data.-To-access-the-underlaying-numpy-array-of-a-DataArray-we-can-use-the-.values-notation."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">values</span>

<span class="nb">type</span><span class="p">(</span><span class="n">arr</span><span class="p">),</span> <span class="n">arr</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="XArray-offers-two-different-ways-of-selecting-data:">XArray offers two different ways of selecting data:<a class="anchor-link" href="#XArray-offers-two-different-ways-of-selecting-data:"> </a></h4><ul>
<li><code>isel()</code>: For selecting data based on its index (like numpy).</li>
<li><code>sel()</code>: For selecting data based on its dimension of label value.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="n">ss</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">ss</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ss</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>

<span class="n">ss</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ss</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">latitude</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mf">35.30</span><span class="p">,</span><span class="o">-</span><span class="mf">35.24</span><span class="p">))</span>

<span class="n">ss</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Xarray-exposes-lots-of-functions-to-easily-transform-and-analyse-Datasets-and-DataArrays.-For-example-to-calculate-the-spatial-mean-of-the-green-band">Xarray exposes lots of functions to easily transform and analyse <code>Datasets</code> and <code>DataArrays</code>. For example to calculate the spatial mean of the green band<a class="anchor-link" href="#Xarray-exposes-lots-of-functions-to-easily-transform-and-analyse-Datasets-and-DataArrays.-For-example-to-calculate-the-spatial-mean-of-the-green-band"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean of green band:&quot;</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Standard deviation of green band:&quot;</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sum of green band:&quot;</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Plotting-is-also-conveniently-integrated-in-the-library.">Plotting is also conveniently integrated in the library.<a class="anchor-link" href="#Plotting-is-also-conveniently-integrated-in-the-library."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;green&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="We-still-can-do-things-manually-using-numpy-and-matplotlib">We still can do things manually using numpy and matplotlib<a class="anchor-link" href="#We-still-can-do-things-manually-using-numpy-and-matplotlib"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rgb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">((</span><span class="n">ds</span><span class="o">.</span><span class="n">red</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">green</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">blue</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
<span class="n">rgb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">rgb</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2000</span>

<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">rgb</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="But-compare-to-this-elegant-way-of-chaining-operations-within-XArray">But compare to this elegant way of chaining operations within XArray<a class="anchor-link" href="#But-compare-to-this-elegant-way-of-chaining-operations-within-XArray"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span><span class="p">[[</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">robust</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Exercise:-Use-the-.sel()-functionality-over-the-previous-image-to-plot-the-region-defined-in-the-following-WKT-for-2017:">Exercise: Use the <code>.sel()</code> functionality over the previous image to plot the region defined in the following WKT for 2017:<a class="anchor-link" href="#Exercise:-Use-the-.sel()-functionality-over-the-previous-image-to-plot-the-region-defined-in-the-following-WKT-for-2017:"> </a></h4><p><code>POLYGON ((149.1 -35.29, 149.13 -35.29, 149.13 -35.27, 149.1 -35.27, 149.1 -35.29))</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Can-you-create-an-NDVI-representation-of-this-image?">Can you create an NDVI representation of this image?<a class="anchor-link" href="#Can-you-create-an-NDVI-representation-of-this-image?"> </a></h4>
</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="ANU-WALD/dea_course"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/dea_course/numpy/2020/08/07/intro_to_xarray.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/dea_course/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/dea_course/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/dea_course/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Course training materials.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/dea_course/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/dea_course/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
